<!-- Jumpscare Overlay -->
<div *ngIf="showJumpscare" class="jumpscare-overlay">
  <img src="/assets/images/jumpscare.png" alt="Jumpscare" class="jumpscare-image">
</div>

<section id="newsletter" class="newsletter-section">
  <div class="container">
    <div class="newsletter-content">
      <div class="newsletter-header">
        <h2>nete al Newsletter</h2>
        <p class="subtitle">Recibe actualizaciones sobre la Mansi贸n Abaddon directamente en tu email</p>
      </div>

      <div class="warning-box">
        <p>锔 Al suscribirte, aceptas recibir informaci贸n perturbadora sobre los eventos de la mansi贸n.</p>
        <p>Lo que descubras puede cambiar tu percepci贸n de la realidad.</p>
      </div>

      <form class="newsletter-form" (ngSubmit)="onSubmit()" #subscribeForm="ngForm">
        <div class="form-group">
          <label for="name">Nombre:</label>
          <input
            type="text"
            id="name"
            name="name"
            [(ngModel)]="name"
            placeholder="驴C贸mo debemos llamarte?"
            [disabled]="isLoading"
          />
        </div>

        <div class="form-group">
          <label for="email">Email:</label>
          <input
            type="email"
            id="email"
            name="email"
            [(ngModel)]="email"
            placeholder="tu@email.com"
            required
            [disabled]="isLoading"
          />
        </div>

        <button
          type="submit"
          class="btn-subscribe"
          [disabled]="isLoading || !email"
        >
          <span *ngIf="!isLoading">Suscribirse</span>
          <span *ngIf="isLoading" class="loading">
            <span class="spinner"></span> Procesando...
          </span>
        </button>
      </form>

      <!-- Mensaje de respuesta -->
      <div
        *ngIf="message"
        class="message"
        [class.success]="messageType === 'success'"
        [class.error]="messageType === 'error'"
      >
        {{ message }}
      </div>

      <div class="privacy-note">
        <p> Tu informaci贸n est谩 segura. Nunca compartiremos tus datos.</p>
        <p>Puedes cancelar tu suscripci贸n en cualquier momento desde los emails que recibas.</p>
      </div>
    </div>
  </div>
</section>
